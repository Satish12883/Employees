import './polyfills.server.mjs';
import{B as w,C as S,D as R,E as O,H as G,L as V,M as B,O as y,P as j,a as N,b as c,c as g,d as x,e as m,f as u,g as F,h as P,i as t,j as e,k as l,l as A,m as f,n as b,o as i,p,q as _,r as v,w as k,z as L}from"./chunk-2QEDPJW3.mjs";var C=class s{title="angular";static \u0275fac=function(n){return new(n||s)};static \u0275cmp=c({type:s,selectors:[["app-root"]],standalone:!0,features:[v],decls:1,vars:0,template:function(n,a){n&1&&l(0,"router-outlet")},dependencies:[B]})};var h=class s{constructor(){}apiUrl="http://10.11.1.70/July25/API/Students/GetUsers";getByIdURL="http://10.11.1.70/July25/API/Students/GetUsersById";apiDeleteUser="http://10.11.1.70/July25/API/Students/DeleteUser";getData(){return fetch(this.apiUrl).then(r=>(r.ok||console.error("Error While Getting Data"),r.json())).catch(r=>{console.error("There has been a problem with your fetch operation:",r)})}GetUserById(r){let n=`${this.getByIdURL}?userId=${r}`;return fetch(n).then(a=>(a.ok||console.error(`Error While Getting Data UserID :${r}`),a.json())).catch(a=>{console.error("Error  While Getting Data:",a)})}DeleteUser(r){let n=`${this.apiDeleteUser}?userId=${r}`;return fetch(n,{method:"DELETE"}).then(a=>(a.ok||console.log("Error While Deleting Data"),a.json())).catch(a=>{console.log("Error :"+a)})}SaveUsers(r){return fetch("http://10.11.1.70/July25/API/Students/SaveUsers",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)}).then(a=>a.json()).catch(a=>{console.log("Error while Saving")})}getUserFiles(r,n){let a=`http://10.11.1.70/July25/API/Students/GetUserFileDetails?userId=${r}&portalAlias=${n}`;return fetch(a).then(o=>(o.ok||alert("Error While Getting Files"),o.json())).catch(o=>{alert(o)})}static \u0275fac=function(n){return new(n||s)};static \u0275prov=N({token:s,factory:s.\u0275fac,providedIn:"root"})};function Z(s,r){if(s&1){let n=A();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"a",30),f("click",function(){let o=g(n).$implicit,d=b();return x(d.navigateToUser(o.userId))}),i(5),e()(),t(6,"td"),i(7),e(),t(8,"td"),i(9),e(),t(10,"td"),i(11),e(),t(12,"td"),i(13),e(),t(14,"td"),i(15),e(),t(16,"td")(17,"a",31),f("click",function(){let o=g(n).$implicit,d=b();return x(d.editUser(o.userId))}),i(18,"Edit"),e()(),t(19,"td")(20,"a",32),f("click",function(){let o=g(n).$implicit,d=b();return x(d.DeleteUser(o.userId))}),i(21,"Delete"),e()()()}if(s&2){let n=r.$implicit;m(2),p(n.userId),m(3),p(n.firstName),m(2),p(n.lastName),m(2),p(n.age),m(2),p(n.gender),m(2),p(n.contact),m(2),p(n.address)}}var I=class s{constructor(r,n){this.service=r;this.route=n}users;usersById;result;filePath;ngOnInit(){}name="Nemalikanti Sateesh";age=23;address="Veerlapalem";GetUserDetails(){return`Name:,${this.name} Age:${this.age} Address:${this.address}`}getData(){this.service.getData().then(r=>{this.users=r,this.users==null&&alert("No Data Found.."),$("#tblDiv").css("display","block"),$("#ancUsers").css("display","none")})}editUser(r){parseInt(r.toString())!=0&&this.service.GetUserById(r).then(n=>{if(n==null){alert(`user not found Id:${r}`);return}this.usersById=n,$('input[id="lblUserId"]').val(this.usersById[0].userId),$('input[id="txtFirstName"]').val(this.usersById[0].firstName),$('input[id="txtLName"]').val(this.usersById[0].lastName),$('input[id="txtAge"]').val(this.usersById[0].age),$('input[id="txtCont"]').val(this.usersById[0].contact),$('textarea[id="txtAdd"]').val(this.usersById[0].address),this.usersById[0].gender.toUpperCase()=="MALE"||this.usersById[0].gender.toUpperCase()=="M"?$('input[id="rdbMale"][value="Male"]').prop("checked",!0):(this.usersById[0].gender.toUpperCase()=="FEMALE"||this.usersById[0].gender.toUpperCase()=="F")&&$('input[id="rdbFeMale"][value="Female"]').prop("checked",!0),$('input[id="btnSave"]').val()=="Save"&&$('input[id="btnSave"]').val("Update")})}SaveUsers(){let r={firstName:$('input[id="txtFirstName"]').val(),lastName:$('input[id="txtLName"]').val(),age:$('input[id="txtAge"]').val(),address:$('textarea[id="txtAdd"]').val(),contact:$('input[id="txtCont"]').val(),gender:$('input[name="Gender"]:checked').val(),PortalAlias:"DBM",userId:$('input[id="lblUserId"]').val()==""?0:parseInt($('input[id="lblUserId"]').val())};this.ValidateDetails(r)==!0&&this.service.SaveUsers(r).then(n=>{if(this.result=n,this.result==null){alert("\xCBrror While Saving");return}let a=parseInt(this.result.ResultData);a==1&&(alert(this.result.ErrorDescription),this.getData(),this.ClearFileds(),$('input[id="btnSave"]').val("Update")),a==0&&alert(this.result.ErrorDescription),console.log(this.result)})}DeleteUser(r){window.confirm("Are you sure to delete this user.?")!=!1&&(parseInt(r.toString())!=0?this.service.DeleteUser(r).then(a=>{this.result=a;let o=parseInt(this.result.ResultData);o==1?(alert(`User :${r} deleted successfully..`),this.ClearFileds()):o==0&&alert("Delete Failed."),this.getData()},a=>{console.error("Error deleting user:",a),alert("An error occurred while deleting the user.")}):alert("Invalid User Id"))}ClearFileds(){$('input[id="lblUserId"]').val(""),$('input[id="txtFirstName"]').val(""),$('input[id="txtLName"]').val(""),$('input[id="txtAge"]').val(""),$('input[id="txtCont"]').val(""),$('textarea[id="txtAdd"]').val("")}ValidateDetails(r){$("#ErrorMsg").text("");var n="",a=!0;return r.firstName==""&&(n+=" FirstName,"),r.lastName==""&&(n+=" LastName,"),r.age==""&&(n+=" Age,"),r.contact==""?r.contact="0000000000":r.contact.length<10&&(n+=" contact must be 10 letters,"),r.address==""&&(r.address="123 any street"),n.length>0&&(n=n.substring(0,n.lastIndexOf(",")),$("#ErrorMsg").text("Please Enter"+n.trimEnd()),a=!1),a}navigateToUser(r){return(r==0||r==null)&&alert("user not found."),this.route.navigate(["/user",r]),!1}static \u0275fac=function(n){return new(n||s)(u(h),u(y))};static \u0275cmp=c({type:s,selectors:[["app-login"]],standalone:!0,features:[v],decls:127,vars:4,consts:[["inputFistName",""],[2,"text-align","center","display","none"],["align","center"],["type","text","id","txtFN","value","satish"],["type","text","id","txtLN","required",""],["align","left"],["type","radio","id","rdbMale","value","Male","name","gender"],["type","radio","id","rdbFM","value","Female","name","gender"],["type","text","id","txtAdd"],["type","button","id","btnSave","value","Save",1,"btn","btn-success"],["id","MainDiv"],["id","divForm"],["id","ErrorMsg"],["type","text","id","lblUserId","size","1px"],["type","text","id","txtFirstName"],["type","text","id","txtLName"],["type","text","id","txtAge"],["type","radio","id","rdbMale","value","Male","name","Gender"],["type","radio","id","rdbFeMale","value","Female","name","Gender"],["type","text","id","txtCont"],["id","txtAdd"],["type","file","id","fileupload"],["type","button","id","btnSave","value","Save",3,"click"],[2,"width","100%","display","flex","justify-content","center"],["href","#","id","ancUsers",3,"click"],["id","tblDiv",2,"display","none","text-align","center"],[1,"tblUsers"],[4,"ngFor","ngForOf"],[2,"display","none"],["id","Msg"],["href","#","id","btnView",3,"click"],["href","#","id","btnEdit",3,"click"],["href","#","id","btnDelete",3,"click"]],template:function(n,a){if(n&1){let o=A();t(0,"div",1)(1,"table",2)(2,"thead")(3,"tr"),l(4,"th")(5,"th")(6,"th"),e()(),t(7,"tbody")(8,"tr")(9,"td")(10,"label"),i(11,"FirstName"),e()(),t(12,"td"),i(13,":"),e(),t(14,"td"),l(15,"input",3,0),e()(),t(17,"tr")(18,"td")(19,"label"),i(20,"LastName"),e()(),t(21,"td"),i(22,":"),e(),t(23,"td"),l(24,"input",4),e()(),t(25,"tr")(26,"td")(27,"label"),i(28,"Gender"),e()(),t(29,"td"),i(30,":"),e(),t(31,"td",5),i(32,"\xA0 "),l(33,"input",6),i(34,"\xA0 "),l(35,"input",7),e()(),t(36,"tr")(37,"td")(38,"label"),i(39,"Address"),e()(),t(40,"td"),i(41,":"),e(),t(42,"td"),l(43,"input",8),e()()()(),l(44,"input",9),e(),t(45,"div",10)(46,"div",11),l(47,"label",12)(48,"br")(49,"br"),t(50,"label"),i(51,"userId:"),e(),i(52,"\xA0 "),l(53,"input",13)(54,"br"),t(55,"label"),i(56,"FirstName:"),e(),l(57,"br")(58,"input",14)(59,"br"),t(60,"label"),i(61,"LastName:"),e(),l(62,"br")(63,"input",15)(64,"br"),t(65,"label"),i(66,"Age:"),e(),l(67,"br")(68,"input",16)(69,"br"),t(70,"label"),i(71,"Gender:"),e(),l(72,"br")(73,"input",17),i(74,"Male\xA0 "),l(75,"input",18),i(76,"Female"),l(77,"br"),t(78,"label"),i(79,"Contact:"),e(),l(80,"br")(81,"input",19)(82,"br"),t(83,"label"),i(84,"Address:"),e(),l(85,"br")(86,"textarea",20)(87,"br"),t(88,"label"),i(89,"Image:"),e(),l(90,"input",21)(91,"br")(92,"br"),t(93,"input",22),f("click",function(){return g(o),x(a.SaveUsers())}),e()()(),l(94,"br"),t(95,"div",23)(96,"a",24),f("click",function(){return g(o),x(a.getData())}),i(97,"Show"),e(),t(98,"div",25)(99,"table",26)(100,"thead")(101,"tr")(102,"th"),i(103,"UserId"),e(),t(104,"th"),i(105,"FirstName"),e(),t(106,"th"),i(107,"LastName"),e(),t(108,"th"),i(109,"Age"),e(),t(110,"th"),i(111,"Gender"),e(),t(112,"th"),i(113,"contact"),e(),t(114,"td"),i(115,"Address"),e(),l(116,"th")(117,"th"),e()(),t(118,"tbody"),F(119,Z,22,7,"tr",27),e()()()(),t(120,"div",28)(121,"h5",29),i(122),e(),t(123,"p"),i(124),e(),t(125,"p"),i(126),e()()}n&2&&(m(119),P("ngForOf",a.users),m(3),_(" ",a.name,""),m(2),_("Age: ",a.age,""),m(2),p(a.address))},dependencies:[S,w],styles:[".tblUsers[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse;font-size:13px;padding:13px;font-family:Verdana,Geneva,Tahoma,sans-serif}#MainDiv[_ngcontent-%COMP%]{display:flex;gap:30px;flex-direction:row;align-items:center;justify-content:center}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}#ErrorMsg[_ngcontent-%COMP%]{color:red}"]})};var D=class s{constructor(r){this.router=r}LoginPage(){this.router.navigate(["/Login"])}static \u0275fac=function(n){return new(n||s)(u(y))};static \u0275cmp=c({type:s,selectors:[["app-home"]],standalone:!0,features:[v],decls:25,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"nav"],[1,"navbar","navbar-expand-lg"],[1,"container"],[1,"navbar-nav","mx-auto"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],["id","btnLogin","type","submit",1,"btn","btn-outline-success",3,"click"],[2,"margin-top","18px"]],template:function(n,a){n&1&&(t(0,"html",0)(1,"head"),l(2,"meta",1)(3,"meta",2),e(),t(4,"body")(5,"div",3)(6,"nav",4)(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),i(11,"Home"),e()(),t(12,"li",7)(13,"a",9),i(14,"News"),e()(),t(15,"li",7)(16,"a",9),i(17,"Contact"),e()(),t(18,"li",7)(19,"a",9),i(20,"About"),e()(),t(21,"li",7)(22,"button",10),f("click",function(){return a.LoginPage()}),i(23,"Login"),e()()()()()(),l(24,"div",11),e()())},styles:[".navbar[_ngcontent-%COMP%]{background-color:#0f6496;padding:2px 0;width:100%}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16px;padding:8px 25px;transition:background-color .3s ease,color .3s ease}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:2px 18px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40;border-radius:5px}#btnLogin[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-family:Verdana}"]})};var U=class s{constructor(r,n){this.service=r;this.route=n}result;userId;ngOnInit(){this.getUserFiles()}getUserFiles(){var r;if(this.route.params.subscribe(n=>{this.userId=n.id}),this.userId==0){alert("Invalid User ID ");return}this.service.getUserFiles(this.userId,"DBM").then(n=>{this.result=n,$("#MainDiv").css("display","flex"),r=this.result.ResultData[0].content;var a=this.result.ResultData[0].fileName,o="data:image/png;base64,"+r,d=new Date(this.result.ResultData[0].creationDate),q=d.toLocaleDateString();$("#userImg").attr("src",o),$("#lblAge").text(this.result.ResultData[0].age),$("#lblGender").text(this.result.ResultData[0].gender),$("#lblUserName").text(this.result.ResultData[0].fullName),$("#lblAdd").text(this.result.ResultData[0].address),$("#lblCreationDate").text(q),$("#lblFileName").text(a),console.log(this.result.ResultData[0].fileName)})}static \u0275fac=function(n){return new(n||s)(u(h),u(V))};static \u0275cmp=c({type:s,selectors:[["app-user"]],standalone:!0,features:[v],decls:36,vars:0,consts:[["id","MainDiv",2,"gap","20px","display","none","justify-content","center"],["src","","id","userImg","width","300px","height","250px"],["id","lblUserName"],["id","lblAge"],["id","lblGender"],["id","lblAdd"],["id","lblFileName"],["id","lblCreationDate"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"div")(2,"div"),l(3,"img",1),e()(),t(4,"div")(5,"div")(6,"label"),i(7,"Name"),e(),i(8,"\xA0"),t(9,"b"),l(10,"label",2),e(),l(11,"br"),t(12,"label"),i(13,"Age:"),e(),i(14,"\xA0"),l(15,"label",3)(16,"br"),t(17,"label"),i(18,"Gender:"),e(),i(19,"\xA0"),l(20,"label",4)(21,"br"),t(22,"label"),i(23,"Address:"),e(),i(24,"\xA0"),l(25,"label",5)(26,"br"),t(27,"label"),i(28,"FileName:"),e(),i(29,"\xA0"),l(30,"label",6)(31,"br"),t(32,"label"),i(33,"CreationDate:"),e(),i(34,"\xA0"),l(35,"label",7),e()()())},dependencies:[S]})};var J=[{path:"",component:I},{path:"Home",component:D},{path:"user/:id",component:U}];var W={providers:[k({eventCoalescing:!0}),j(J),O()]};var K={providers:[G()]},z=L(W,K);var Q=()=>R(C,z),Ie=Q;export{Ie as a};
